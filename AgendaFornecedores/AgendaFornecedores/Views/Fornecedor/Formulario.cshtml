@using Newtonsoft.Json;
@model Fornecedor;
@{
    ViewData["Title"] = "Formulario";
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<section class="row">

    <div class="col"></div>
    <div class="container col">


        @if (TempData["alterfornecedor"] != null)
        {
            Fornecedor fornecedor = JsonConvert.DeserializeObject<Fornecedor>(TempData["alterfornecedor"].ToString());

            <h1 class="text-center display-4">Alteração de Fornecedor de TI </h1>

            //formulario de alterações
            <form onsubmit="return validarAlterar()" asp-controller="Fornecedor" asp-action="Alterar" name="formularioAlterar">

                <input hidden name="grupoT" value="@fornecedor.Grupo_trabalho">
                <input hidden name="id" value="@fornecedor.Id">

                <div class="form-group">
                    <label for="Nome">Nome:</label>
                    <input type="text" class="form-control" value="@fornecedor.Nome" name="nome">
                </div>

                <div class="form-group">
                    <label for="CNPJ">CNPJ:</label>
                    <input type="text" class="form-control" maxlength="14" value="@fornecedor.Cnpj" name="cnpj">
                </div>

                <div class="form-group">
                    <label for="Contato">Contato:</label>
                    <input type="text" class="form-control" maxlength="11" value="@fornecedor.Contato" name="contato">
                </div>

                <div class="form-group">
                    <label for="email">e-mail:</label>
                    <input type="email" class="form-control" value="@fornecedor.Email" name="email">
                </div>

                <div class="form-group">
                    <label for="vencimentoFatura">Dia de vencimento de fatura:</label>
                    <input type="date" class="form-control" maxlength="10" value="@fornecedor.VencimentoFatura.ToString("yyyy-MM-dd")" name="vencimentoFatura">
                </div>

                <div class="form-group">
                    <label for="Anotações">Anotações:</label>
                    <br />
                    <textarea class="form-control" value="@fornecedor.Anotacao" name="anotacao" cols="25" rows="5"></textarea>
                </div>


                <button style="margin-top:1%;" class="btn btn-primary" type="submit">Alterar</button>

            </form>
            <h3>@TempData["ErroAlterar"]</h3>
        }
        else
        {
           
            <h1 class="text-center display-4">Cadastro de Fornecedores de TI </h1>

            <form onsubmit="return ConfirmacaoCadastro() " asp-controller="Fornecedor" asp-action="Cadastrar" method="post" name="formularioAdicionar">

                <div class="form-group">
                    <label for="Nome">Nome:</label>
                    <input type="text" class="form-control" id="nome" required min="1" placeholder="Digite o nome do fornecedor" name="nome">
                </div>

                <div class="form-group">
                    <label for="CNPJ">CNPJ:</label>
                    <input type="text" class="form-control" id="CNPJ" required min="14" maxlength="14" placeholder="Digite o CNPJ do fornecedor" id="cnpjInput"  name="cnpj">
                </div>

                <div class="form-group">
                    <label for="Contato">Contato:</label>
                    <input type="text" class="form-control" id="contato" required min="11" maxlength="20" placeholder="00000000000" name="contato">
                </div>

                <div class="form-group">
                    <label for="email">e-mail:</label>
                    <input type="email" class="form-control" id="email" min="1" required placeholder="Digite o e-mail do fornecedor" name="email">
                </div>

                <div class="form-group">
                    <label for="vencimentoFatura">Dia de vencimento de fatura:</label>
                    <input type="date" class="form-control" id="vencimentofat" required placeholder="Digite o dia de vencimento" name="vencimentoFatura">
                </div>

                <div class="form-group">
                    <label for="Anotações">Anotações:</label>
                    <br />
                    <textarea class="form-control" name="anotacao" id="anotacoes" cols="25" rows="5"></textarea>
                </div>

                <button onclick="reuturn ConfirmacaoCadastro()" style="margin-top:1%;" class="btn btn-primary" type="submit">Adicionar</button>

            </form>
        }
    </div>
    <div class="col">
        <p>@TempData["acao"]</p>

    </div>

</section>

